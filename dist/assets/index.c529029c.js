import{r,u as E,a as M,b as j,j as e,C as P,c as s,W as q,H as z,L as J,d as Q,e as L,S as y,f as R,g as V,F as f,A as K,h as w,i as U,I as X,k as Y,l as Z,m as ee,T as ae,V as m,n as se,G as x,E as te,o as ie,p as ne,q as F,s as re,t,v as le,w as ce,x as i,y as oe,z as de,B as he,D as me,J as pe,K as ue,M as ge,N as Se,O as Ce,P as ve,Q as Le}from"./index.2cdbdff1.js";const we=()=>{const[p,N]=r.exports.useState("grid"),[u,ye]=r.exports.useState("swap"),[k,A]=r.exports.useState(!1);let{chain:H}=E();const _=JSON.parse(localStorage.getItem("chain")),{loading:c,data:n,setQuery:b,query:D,volume:o}=M(H||_),d=j(),[I,g]=r.exports.useState(!1),[O,C]=r.exports.useState(!1),[S,T]=r.exports.useState(null),$=async a=>{b(a.target.value)},G=a=>{g(!0),T(a)},W=()=>{d(`/trades/${S._id}`)},B=()=>{g(!1),C(!0)};return e(P,{children:s(q,{children:[s(z,{children:[e(J,{children:s(Q,{className:L({hidden:u=="list"}),children:[e(y,{onClick:()=>N("grid"),className:p==="grid"?"active":"",children:e(R,{})}),e(y,{className:p==="list"?"active list":"list",children:e(V,{})})]})}),s(f,{justify:"space-between",align:"center",style:{flex:1},children:[s(K,{children:[e(w,{onClick:()=>d("/"),className:"active",children:"Swap"}),e(w,{onClick:()=>d("/list/create"),children:"List"})]}),e(U,{className:L({hidden:u=="list"}),children:s(X,{children:[e(Y,{}),e("input",{placeholder:"SEARCH",value:D,onChange:a=>$(a)}),e(Z,{})]})})]})]}),s(ee,{children:[!c&&s(f,{wrap:!0,style:{marginBottom:"24px"},align:"center",children:[e(ae,{as:"h3",size:"h3",children:"Market orders"}),s(m,{children:["24H volume: $",o.hour.toLocaleString(void 0,{minimumFractionDigits:2})]}),s(m,{children:["Weekly volume: $",o.weekly.toLocaleString(void 0,{minimumFractionDigits:2})]}),s(m,{children:["Month volume: $",o.monthly.toLocaleString(void 0,{minimumFractionDigits:2})]}),s(m,{children:["All time volume: $",o.allTime.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),u=="swap"?e(se,{children:p==="grid"?e(x,{children:c?e("span",{children:"loading..."}):n.length<1?e(te,{}):n.map((a,l)=>e(ie,{confirmFriction:h=>G(h),list:a,state:"guest"},l))}):s(ne,{children:[s(F,{className:"desktop",children:[s(re,{children:[e(t,{children:"Wallet ID"}),e(t,{children:"Published "}),e(t,{children:"Expiry Time "}),e(t,{children:"Escrow Fee"}),e(t,{children:"Give"}),e(t,{children:"Get"}),e(t,{children:"Action"})]}),e(le,{children:c?e("span",{children:"loading..."}):n.map((a,l)=>{var h,v;return s(ce,{children:[e(i,{children:oe(a.receiving_wallet,9,"***")}),e(i,{children:de(a.createdAt)}),e(i,{children:a.deadline==he?"Forever":me(a.deadline)}),e(i,{children:"3%"}),s(i,{children:[Number(a.amount_out).toFixed(2)," \xA0",(h=a.token_out_metadata)==null?void 0:h.symbol]}),s(i,{children:[Number(a.amount_in).toFixed(2)," \xA0",(v=a.token_in_metadata)==null?void 0:v.symbol]}),e(i,{children:e(pe,{onClick:()=>d(`trades/${a._id}`),text:"Trade",classNames:"primary"})})]},l+"grid")})})]}),e(F,{className:"mobile",children:e(x,{children:c?e("span",{children:"loading..."}):n==null?void 0:n.map((a,l)=>e(ue,{list:a},l+"mlist"))})})]})}):e(ge,{children:e(Se,{})})]}),e(Ce,{type:"ld",show:k,handleClose:()=>A(!1),msg:"Claim Free Test tokens to trade on the platform"}),e(ve,{show:I,handleClose:()=>g(!1),handleAccept:()=>W(),handleCounter:()=>B()}),S&&e(Le,{show:O,handleClose:()=>C(!1),firstOffer:S})]})})};export{we as default};
